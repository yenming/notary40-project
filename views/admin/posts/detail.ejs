<!-- Back Button -->
<div class="mb-3">
  <a href="/admin/posts" class="btn btn-secondary">
    <i class="fas fa-arrow-left me-1"></i>
    返回文章列表
  </a>
  <a href="/admin/posts/<%= post.id %>/edit" class="btn btn-warning">
    <i class="fas fa-edit me-1"></i>
    編輯文章
  </a>
  <form method="POST" action="/admin/posts/<%= post.id %>/delete" class="d-inline" onsubmit="return confirm('確定要刪除此文章嗎？此操作無法復原。');">
    <button type="submit" class="btn btn-danger">
      <i class="fas fa-trash me-1"></i>
      刪除文章
    </button>
  </form>
</div>

<!-- Post Detail Card -->
<div class="card card-primary card-outline">
  <div class="card-header">
    <h3 class="card-title">
      <i class="fas fa-newspaper me-1"></i>
      <%= post.title %>
    </h3>
  </div>
  <div class="card-body">
    <% if (post.featuredImage) { %>
    <div class="mb-3">
      <img src="<%= post.featuredImage.startsWith('http') ? post.featuredImage : '/' + post.featuredImage %>" alt="<%= post.title %>" class="img-fluid" style="max-height: 400px; object-fit: contain;">
    </div>
    <% } %>

    <% if (post.excerpt) { %>
    <div class="mb-3">
      <h5>摘要</h5>
      <p class="text-muted"><%= post.excerpt %></p>
    </div>
    <% } %>

    <div class="mb-3">
      <h5>內容</h5>
      <div style="white-space: pre-line; line-height: 1.8;"><%= post.content %></div>
    </div>

    <dl class="row">
      <dt class="col-sm-3">
        <i class="fas fa-tag me-2"></i>
        分類
      </dt>
      <dd class="col-sm-9">
        <% if (post.category) { %>
        <span class="badge bg-secondary"><%= post.category %></span>
        <% } else { %>
        <span class="text-muted">無</span>
        <% } %>
      </dd>
      
      <dt class="col-sm-3">
        <i class="fas fa-tags me-2"></i>
        標籤
      </dt>
      <dd class="col-sm-9">
        <% if (post.tags) { %>
        <% post.tags.split(',').forEach(tag => { %>
        <span class="badge bg-info me-1"><%= tag.trim() %></span>
        <% }); %>
        <% } else { %>
        <span class="text-muted">無</span>
        <% } %>
      </dd>
      
      <dt class="col-sm-3">
        <i class="fas fa-toggle-on me-2"></i>
        狀態
      </dt>
      <dd class="col-sm-9">
        <% if (post.isPublished) { %>
        <span class="badge bg-success">已發布</span>
        <% } else { %>
        <span class="badge bg-warning">草稿</span>
        <% } %>
      </dd>
      
      <dt class="col-sm-3">
        <i class="fas fa-calendar-plus me-2"></i>
        發布時間
      </dt>
      <dd class="col-sm-9">
        <% if (post.publishedAt) { %>
        <%= new Date(post.publishedAt).toLocaleString('zh-TW', { 
          year: 'numeric', 
          month: 'long', 
          day: 'numeric',
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit'
        }) %>
        <% } else { %>
        <span class="text-muted">未發布</span>
        <% } %>
      </dd>
      
      <dt class="col-sm-3">
        <i class="fas fa-eye me-2"></i>
        瀏覽次數
      </dt>
      <dd class="col-sm-9"><%= post.viewCount || 0 %></dd>
      
      <dt class="col-sm-3">
        <i class="fas fa-calendar-plus me-2"></i>
        建立時間
      </dt>
      <dd class="col-sm-9">
        <%= new Date(post.createdAt).toLocaleString('zh-TW', { 
          year: 'numeric', 
          month: 'long', 
          day: 'numeric',
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit'
        }) %>
      </dd>
      
      <dt class="col-sm-3">
        <i class="fas fa-clock-rotate-left me-2"></i>
        最後更新
      </dt>
      <dd class="col-sm-9">
        <%= new Date(post.updatedAt).toLocaleString('zh-TW', { 
          year: 'numeric', 
          month: 'long', 
          day: 'numeric',
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit'
        }) %>
      </dd>
    </dl>
  </div>
</div>

